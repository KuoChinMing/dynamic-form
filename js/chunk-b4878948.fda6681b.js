(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4878948"],{"0fd9":function(t,e,a){"use strict";var i=a("ade3"),n=a("5530"),c=(a("13d5"),a("caad"),a("2532"),a("99af"),a("b64b"),a("5319"),a("ac1f"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("4b85"),a("2b0e")),o=a("d9f7"),r=a("80d2"),l=["sm","md","lg","xl"],s=["start","end","center"];function u(t,e){return l.reduce((function(a,i){return a[t+Object(r["z"])(i)]=e(),a}),{})}var d=function(t){return[].concat(s,["baseline","stretch"]).includes(t)},p=u("align",(function(){return{type:String,default:null,validator:d}})),f=function(t){return[].concat(s,["space-between","space-around"]).includes(t)},g=u("justify",(function(){return{type:String,default:null,validator:f}})),m=function(t){return[].concat(s,["space-between","space-around","stretch"]).includes(t)},v=u("alignContent",(function(){return{type:String,default:null,validator:m}})),b={align:Object.keys(p),justify:Object.keys(g),alignContent:Object.keys(v)},h={align:"align",justify:"justify",alignContent:"align-content"};function x(t,e,a){var i=h[t];if(null!=a){if(e){var n=e.replace(t,"");i+="-".concat(n)}return i+="-".concat(a),i.toLowerCase()}}var y=new Map;e["a"]=c["a"].extend({name:"v-row",functional:!0,props:Object(n["a"])(Object(n["a"])(Object(n["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d}},p),{},{justify:{type:String,default:null,validator:f}},g),{},{alignContent:{type:String,default:null,validator:m}},v),render:function(t,e){var a=e.props,n=e.data,c=e.children,r="";for(var l in a)r+=String(a[l]);var s=y.get(r);return s||function(){var t,e;for(e in s=[],b)b[e].forEach((function(t){var i=a[t],n=x(e,t,i);n&&s.push(n)}));s.push((t={"no-gutters":a.noGutters,"row--dense":a.dense},Object(i["a"])(t,"align-".concat(a.align),a.align),Object(i["a"])(t,"justify-".concat(a.justify),a.justify),Object(i["a"])(t,"align-content-".concat(a.alignContent),a.alignContent),t)),y.set(r,s)}(),t(a.tag,Object(o["a"])(n,{staticClass:"row",class:s}),c)}})},"154c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"picAnnotate"==t.dataItem.class?a("div",{staticClass:"pt-2"},["1"==t.dataItem.horizontalValue?a("div",{staticClass:"d-flex",style:"width:"+t.dataItem.totalSizeWidthValue+"px; \n          height:"+t.dataItem.totalSizeHeightValue+"px"},t._l(t.dataItem.group,(function(e,i){return a("div",{key:i,staticClass:"pt-2 pl-2 pr-2 w-100 h-100 d-inline-flex",staticStyle:{"flex-direction":"column",float:"left"}},["no_default"==e.defaultPic?[""==e.image?a("div",{staticClass:"h-100"},[a("a",{staticClass:"d-flex justify-center grey lighten-2 h-100 canvasImage",style:{width:"100%"},on:{click:function(e){1!=t.isPreview&&t.activeUploadPicFunc(t.dataItem,i)}}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-upload")])],1)]):t._e(),""!==e.image?a("a",{staticClass:"h-100 w-100 d-block",style:"background-size: contain; background-position: center; background-color: #DDD; background-image: url("+e.image+");",on:{click:function(e){1!=t.isPreview&&t.activeAnnotate(t.dataItem,i)}}}):t._e()]:t._e(),"default"==e.defaultPic?a("div",{staticClass:"w-100 h-100"},[0==t.patientImage.length?a("div",{},[a("a",{staticClass:"d-flex justify-center lighten-2",staticStyle:{"background-size":"cover","background-position":"center","padding-bottom":"100%"},style:{"background-image":"url("+e.defaultPicB64+")"},on:{click:function(e){return t.activeAnnotate(t.dataItem.group[t.dataItemIndex],i)}}})]):t._e(),0!==t.patientImage.length?a("a",{staticClass:"d-flex justify-center lighten-2 w-100",staticStyle:{"background-size":"cover","background-position":"center","padding-bottom":"100%"},style:{"background-image":"url("+t.patientImageUrl+")"},on:{click:function(e){return t.activeAnnotate(t.dataItem.group[t.dataItemIndex],i)}}}):t._e(),a("v-select",{attrs:{outlined:"","hide-details":""}})],1):t._e(),0!==e.options.length?a("v-select",{staticClass:"mt-0",attrs:{items:e.options,"item-text":"value",disabled:t.isPreview,"return-object":"","hide-details":""},model:{value:e.optionsValue,callback:function(a){t.$set(e,"optionsValue",a)},expression:"layer2_item.optionsValue"}}):t._e()],2)})),0):t._e(),"1"!==t.dataItem.horizontalValue?a("div",{style:"width:"+t.dataItem.totalSizeWidthValue+"px; \n          height:"+t.dataItem.totalSizeHeightValue+"px; max-width:100%; min-height:auto; "},t._l(t.dataItem.group,(function(e,i){return a("div",{key:i,staticClass:"p-2 d-inline-flex test",staticStyle:{"flex-direction":"column",float:"left"},style:[{width:"calc((1/"+t.dataItem.verticalValue+")*100%)"},{height:"calc((1/"+t.dataItem.horizontalValue+")*100%)"}]},["no_default"==e.defaultPic?[""==e.image?a("a",{staticClass:"w-100 h-100 d-flex justify-center grey lighten-2 canvasImage",staticStyle:{"line-height":"1"},on:{click:function(e){1!=t.isPreview&&t.activeUploadPicFunc(t.dataItem,i)}}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-upload")])],1):t._e(),""!==e.image?a("a",{staticClass:"w-100 h-100 d-block",style:"background-size: contain; background-position: center; background-color: #DDD; background-image: url("+e.image+");",on:{click:function(e){1!=t.isPreview&&t.activeAnnotate(t.dataItem,i)}}}):t._e()]:t._e(),"default"==e.defaultPic?a("div",{staticClass:"w-100"},[0==t.patientImage.length?a("div",{},[a("a",{staticClass:"d-flex justify-center lighten-2",staticStyle:{"background-size":"cover","background-position":"center","padding-bottom":"100%"},style:{"background-image":"url("+e.defaultPicB64+")"},on:{click:function(e){return t.activeAnnotate(t.dataItem.group[t.dataItemIndex],i)}}})]):t._e(),0!==t.patientImage.length?a("a",{staticClass:"d-flex justify-center lighten-2 w-100",staticStyle:{"background-size":"cover","background-position":"center","padding-bottom":"100%"},style:{"background-image":"url("+t.patientImageUrl+")"},on:{click:function(e){return t.activeAnnotate(t.dataItem.group[t.dataItemIndex],i)}}}):t._e()]):t._e()],2)})),0):t._e(),"{}"!==JSON.stringify(this.picData)?a("div",[a("TUploadAnnotatePic",{attrs:{windowMaxWidth:600,activeDialog:t.activeUploadPic,picData:this.picData},on:{childMethod:t.parentMethod}}),t._v("> ")],1):t._e()]):t._e()},n=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{staticClass:"uploadDialog",attrs:{"max-width":t.windowMaxWidth,persistent:"",width:"750"},model:{value:t.activeDialog,callback:function(e){t.activeDialog=e},expression:"activeDialog"}},[a("v-card",{staticStyle:{"min-height":"200px"}},[a("form",{attrs:{action:"/somewhere/to/upload",enctype:"multipart/form-data"}},[a("div",{staticClass:"d-flex align-items-cente",staticStyle:{position:"relative"}},[a("v-toolbar",{staticClass:"d-flex justify-content-center mt-2",attrs:{dense:"",flat:""}},[a("v-toolbar-title",{staticClass:"d-flex align-items-center"},[a("label",{staticClass:"action d-flex align-items-center ml-2",attrs:{for:"uploadPic"}},[a("a",{staticClass:"d-flex black--text align-items-center"},[a("v-icon",{attrs:{color:"black"}},[t._v("mdi-cloud-upload")]),a("p",{staticClass:"mb-0 ml-1 h6"},[t._v(" uploadPic ")])],1),a("input",{attrs:{type:"file",id:"uploadPic",hidden:"",accept:"image/jpeg",multiple:""},on:{change:t.previewImage}})]),a("v-btn",{staticClass:"ml-2",attrs:{text:"",small:"",disabled:0==t.previewPicDataList.length||t.isSend},on:{click:t.uploadFiles}},[a("v-icon",{staticStyle:{color:"black"}},[t._v("mdi-clipboard-arrow-right")]),a("span",{staticClass:"mb-0 ml-1 h6",staticStyle:{"text-transform":"capitalize"}},[t._v(" sendUploadPic ")])],1),a("v-btn",{staticClass:"pl-1",attrs:{text:"",small:""},on:{click:t.clearFiles}},[a("v-icon",{staticStyle:{color:"black"}},[t._v("mdi-broom")]),a("span",{staticClass:"mb-0 ml-1 h6",staticStyle:{"text-transform":"capitalize"}},[t._v(" deleteUploadPic ")])],1)],1),a("v-spacer")],1),t.activeDialog?a("v-btn",{staticStyle:{position:"absolute",right:"0"},attrs:{icon:""},on:{click:t.closeWindow}},[a("v-icon",[t._v("mdi-close")])],1):t._e()],1)]),a("v-row",{staticClass:"px-2"},t._l(t.previewPicDataList,(function(e,i){return a("v-col",{key:i,attrs:{cols:"12",sm:"3"}},[a("img",{attrs:{src:e.b64Data,alt:"",width:"100%",height:"100"}}),a("v-select",{attrs:{items:t.picNameArray,label:"Number"},model:{value:e.picName,callback:function(a){t.$set(e,"picName",a)},expression:"picItem.picName"}})],1)})),1),a("v-overlay",{attrs:{value:t.openOverlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"36"}})],1)],1)],1)},o=[],r=a("5530"),l=a("1da1"),s=(a("96cf"),a("a9e3"),a("3ca3"),a("ddb0"),a("5319"),a("ac1f"),a("d3b7"),a("25f0"),a("2f62")),u={name:"TUploadAnnotatePic",props:{windowMaxWidth:{type:Number,default:0},activeDialog:{type:Boolean,default:!1},picPosition:{type:Number,default:0},picData:{type:Object,default:function(){}}},components:{},data:function(){return{fileInput:null,previewPicData:{b64Data:null,picName:null},previewPicDataList:[],sendPreviewList:[{position:0,image:""},{position:1,image:""},{position:2,image:""},{position:3,image:""}],fileList:[],picNameArray:[],isMenu:!1,datePicker:new Date,openOverlay:!1,isSend:!1,messageDialogOpen:!1,messageHint:"",URLList:[],responseTimes:[],refreshFunction:function(){var t=this.refreshPatientInforKey+=1;this.$store.commit("StoreRefreshInforKey",t)}}},methods:{closeWindow:function(){this.$emit("childMethod")},previewImage:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,i,n,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=t,a.previewPicDataList=[],a.picNameArray=[],i=document.querySelector("#uploadPic"),n=i.files.length,0==n&&(i.value=""),c=function(t,e){var i=JSON.parse(JSON.stringify(a.previewPicData));i.b64Data=t,i.picName=JSON.stringify(e+1),a.previewPicDataList.push(i),a.picNameArray.push(i.picName),a.sortPreviewImage()},o=0;o<n;o++)a.blobTob64(i.files[o],c,o);a.fileList=i.files;case 9:case"end":return e.stop()}}),e)})))()},sortPreviewImage:function(){var t=this;t.previewPicDataList.sort((function(t,e){var a=t.picName.toUpperCase(),i=e.picName.toUpperCase();return a<i?-1:a>i?1:0}))},uploadFiles:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.openOverlay=!0,a=JSON.parse(JSON.stringify(t.previewPicDataList)),console.log(a),i=regeneratorRuntime.mark((function e(i){var n,c,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.shift(),void 0===n){e.next=11;break}return c=n.b64Data,o=c.replace(/^data:image\/(png|jpg|jpeg);base64,/,""),r={position:i,image:o},r.documentImageGuid=localStorage.getItem("documentImageGuid"),e.next=8,t.$store.dispatch("AskStoreDocumentNewImage",r).then((function(e){t.picData.picsInfor.group[i].imageId=e.data.data.documentImageId,t.picData.picsInfor.group[i].image=c}));case 8:t.previewPicDataList=[],t.openOverlay=!1,t.closeWindow();case 11:case"end":return e.stop()}}),e)})),n=t.picData.currentPicIndex;case 5:if(!(n<t.picData.picsInfor.group.length)){e.next=10;break}return e.delegateYield(i(n),"t0",7);case 7:n++,e.next=5;break;case 10:t.openOverlay=!1;case 11:case"end":return e.stop()}}),e)})))()},generateGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"==t?e:3&e|8;return a.toString(16)}))},blobTob64:function(t,e,a){return Object(l["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=new FileReader,i.next=3,function(t){e(t.target.result,a)};case 3:n.onload=i.sent,n.readAsDataURL(t);case 5:case"end":return i.stop()}}),i)})))()},clearFiles:function(){var t=this;t.previewPicDataList=[];var e=document.querySelector("#uploadPic");e.value=""},checkPicIndex:function(t){var e=[{text:"1",value:0},{text:"2",value:1},{text:"3",value:2},{text:"4",value:3}],a=0;return e.forEach((function(e,i){t==e.text&&(a=i)})),a}},created:function(){},computed:Object(r["a"])({},Object(s["b"])({})),watch:{}},d=u,p=a("2877"),f=a("6544"),g=a.n(f),m=a("8336"),v=a("b0af"),b=a("62ad"),h=a("169a"),x=a("132d"),y=a("a797"),w=a("490a"),I=a("0fd9"),k=a("b974"),P=a("2fa4"),S=a("71d9"),j=a("2a7f"),O=Object(p["a"])(d,c,o,!1,null,null,null),C=O.exports;g()(O,{VBtn:m["a"],VCard:v["a"],VCol:b["a"],VDialog:h["a"],VIcon:x["a"],VOverlay:y["a"],VProgressCircular:w["a"],VRow:I["a"],VSelect:k["a"],VSpacer:P["a"],VToolbar:S["a"],VToolbarTitle:j["a"]});var D={components:{TUploadAnnotatePic:C},data:function(){return{dataItem:{group:[{value:"",type:"",group:[],class:"annotatePic",style:{},defaultPic:"no_default",defaultPicB64:"",position:0,image:"",imageId:""},{value:"",type:"",group:[],class:"annotatePic",style:{},defaultPic:"no_default",defaultPicB64:"",position:1,image:"",imageId:""},{value:"",type:"",group:[],class:"annotatePic",style:{},defaultPic:"no_default",defaultPicB64:"",position:2,image:"",imageId:""},{value:"",type:"",group:[],class:"annotatePic",style:{},defaultPic:"no_default",defaultPicB64:"",position:3,image:"",imageId:""}],class:"picAnnotate",title:"圖片標注",totalNumberText:"圖片總數",totalNumberValue:4,horizontalText:"橫向數",horizontalValue:"2",verticalText:"縱向數",verticalValue:"2",totalSizeWidthText:"總寬",totalSizeWidthValue:"500",totalSizeHeightText:"總高",totalSizeHeightValue:"500"},picData:{},isPreview:!1,activeUploadPic:!1}},methods:{activeUploadPicFunc:function(t,e){var a={picsInfor:t,currentPicIndex:e};this.picData=a,this.activeUploadPic=!0,console.log(a)},parentMethod:function(){var t=this;this.$nextTick((function(){t.activeUploadPic=!1}))}}},_=D,N=(a("9972"),Object(p["a"])(_,i,n,!1,null,null,null));e["default"]=N.exports;g()(N,{VIcon:x["a"],VSelect:k["a"]})},"4b85":function(t,e,a){},"62ad":function(t,e,a){"use strict";var i=a("ade3"),n=a("5530"),c=(a("13d5"),a("a9e3"),a("b64b"),a("5319"),a("ac1f"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("caad"),a("159b"),a("2ca0"),a("4b85"),a("2b0e")),o=a("d9f7"),r=a("80d2"),l=["sm","md","lg","xl"],s=function(){return l.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{})}(),u=function(){return l.reduce((function(t,e){return t["offset"+Object(r["z"])(e)]={type:[String,Number],default:null},t}),{})}(),d=function(){return l.reduce((function(t,e){return t["order"+Object(r["z"])(e)]={type:[String,Number],default:null},t}),{})}(),p={col:Object.keys(s),offset:Object.keys(u),order:Object.keys(d)};function f(t,e,a){var i=t;if(null!=a&&!1!==a){if(e){var n=e.replace(t,"");i+="-".concat(n)}return"col"!==t||""!==a&&!0!==a?(i+="-".concat(a),i.toLowerCase()):i.toLowerCase()}}var g=new Map;e["a"]=c["a"].extend({name:"v-col",functional:!0,props:Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({cols:{type:[Boolean,String,Number],default:!1}},s),{},{offset:{type:[String,Number],default:null}},u),{},{order:{type:[String,Number],default:null}},d),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var a=e.props,n=e.data,c=e.children,r=(e.parent,"");for(var l in a)r+=String(a[l]);var s=g.get(r);return s||function(){var t,e;for(e in s=[],p)p[e].forEach((function(t){var i=a[t],n=f(e,t,i);n&&s.push(n)}));var n=s.some((function(t){return t.startsWith("col-")}));s.push((t={col:!n||!a.cols},Object(i["a"])(t,"col-".concat(a.cols),a.cols),Object(i["a"])(t,"offset-".concat(a.offset),a.offset),Object(i["a"])(t,"order-".concat(a.order),a.order),Object(i["a"])(t,"align-self-".concat(a.alignSelf),a.alignSelf),t)),g.set(r,s)}(),t(a.tag,Object(o["a"])(n,{class:s}),c)}})},8639:function(t,e,a){},9972:function(t,e,a){"use strict";a("8639")}}]);
//# sourceMappingURL=chunk-b4878948.fda6681b.js.map